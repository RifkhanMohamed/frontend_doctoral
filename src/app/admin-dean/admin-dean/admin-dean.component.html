

<div class="container-fluid page" style="height: 93vh; overflow-y: auto;">

    <div class="text-center heading">
        <h1 class="mb-2">Exemption Validation By Dean</h1>
      </div>

    <div class="page__content shadow p-3 position-relative">
        <nav class="navbar">
          </nav>
          <table class="table table-bordered">
            <thead>
              <tr>
                <th (click)="sort('course')">Course&nbsp;<i class="fa fa-sort"></i></th>
                <th (click)="sort('email')">Email&nbsp;<i class="fa fa-sort"></i></th>
                <th (click)="sort('phone')">Phone&nbsp;<i class="fa fa-sort"></i></th>
                <!-- <th (click)="sort('qulaification')">Qualification&nbsp;<i class="fa fa-sort"></i></th> -->
                <!-- <th>Department</th>
                <th>Establishment</th> -->
                <th>has Cotutelle Applied?</th>
                <th>Cotutelle Reason</th>
                <th>Status</th>
                  <th *ngIf="isDean||isSuperAdmin">View</th>
                  <th *ngIf="isDean||isSuperAdmin">Action</th>
                  <th *ngIf="isDean||isSuperAdmin">Action</th>
              </tr>
            </thead>
            <tbody>
              <tr *ngFor="let data of wish | orderBy:key:reverse | paginate: {itemsPerPage:10,currentPage:p}; let i = index">
                <td>{{data.course.name}}</td>
                <td>{{data.email}}</td>
                <td>{{data.phone}}</td>
                <!-- <td>{{data.qualification}}</td> -->

                <!-- <td>{{data.department}}</td>
                <td>{{data.establishment}}</td> -->
                <td>{{ data.cotutelle }}</td>
                <td>{{ data.cotutellereason }}</td>
                <td>{{ data.status }}</td> 
                  <td *ngIf="isDean||isSuperAdmin"><mat-icon (click)="reDirect(data.id)" style="color: blue; cursor: pointer;">visibility</mat-icon></td>
                  <td *ngIf="(isDean||isSuperAdmin)&&data.cotutelle=='yes'"><button (click)="sendInvitation(data.email,data.name,'exemptions_validated_by_dean')" style="color: green; cursor: pointer;">Confirm</button></td>
                  <td *ngIf="(isDean||isSuperAdmin)&&data.cotutelle=='yes'"><button (click)="sendInvitation(data.email,data.name,'exemptions_rejected_by_dean')" style="color: red; cursor: pointer;">Reject</button></td>
              </tr>
            </tbody>
  
          </table>
          <button  (click)="exportToExcel()" class="btn btn-small btn-secondary " style="float: right;">Download Excel</button>
          <pagination-controls style="text-align: center;" (pageChange)="p = $event"></pagination-controls>
        <br>
        <br>
    </div>

</div>

